{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/component/chat/chat.component.css","webpack:///./src/app/component/chat/chat.component.html","webpack:///./src/app/component/chat/chat.component.ts","webpack:///./src/app/component/contactos/contactos.component.css","webpack:///./src/app/component/contactos/contactos.component.html","webpack:///./src/app/component/contactos/contactos.component.ts","webpack:///./src/app/component/home/home.component.css","webpack:///./src/app/component/home/home.component.html","webpack:///./src/app/component/home/home.component.ts","webpack:///./src/app/component/inicio/inicio.component.css","webpack:///./src/app/component/inicio/inicio.component.html","webpack:///./src/app/component/inicio/inicio.component.ts","webpack:///./src/app/component/layout-videollamada/layout-videollamada.component.css","webpack:///./src/app/component/layout-videollamada/layout-videollamada.component.html","webpack:///./src/app/component/layout-videollamada/layout-videollamada.component.ts","webpack:///./src/app/component/user-video/user-video.component.css","webpack:///./src/app/component/user-video/user-video.component.ts","webpack:///./src/app/component/video-calling/video-calling.component.css","webpack:///./src/app/component/video-calling/video-calling.component.html","webpack:///./src/app/component/video-calling/video-calling.component.ts","webpack:///./src/app/component/video/video.component.css","webpack:///./src/app/component/video/video.component.html","webpack:///./src/app/component/video/video.component.ts","webpack:///./src/app/domain/cckall.domain.ts","webpack:///./src/app/domain/websocket.domain.ts","webpack:///./src/app/provider/error-handler.ts","webpack:///./src/app/service/authentication/authentication.guard.ts","webpack:///./src/app/service/contacto-agente.service.ts","webpack:///./src/app/service/session.service.ts","webpack:///./src/app/service/storage.service.ts","webpack:///./src/app/service/video-llamada.service.ts","webpack:///./src/app/service/websocket.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { VideoComponent } from './component/video/video.component';\nimport { AuthenticationGuard } from './service/authentication/authentication.guard';\nimport { HomeComponent } from './component/home/home.component';\n\nconst routes: Routes = [\n  { path: '', component: HomeComponent },\n  { path: 'video/:id', component: VideoComponent, canActivate: [ AuthenticationGuard] }\n];\n\n@NgModule({\n  exports: [ RouterModule ],\n  imports: [ RouterModule.forRoot(routes)]\n})\nexport class AppRoutingModule { }\n","module.exports = \".contenedor-app {\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.contenedor-titulo{\\n    background-color:#e9f0f3;\\n    position: absolute;\\n    width: calc(100% - 500px);\\n    height: 60px;\\n    right: 0;\\n    top: 0;\\n}\\n\\n.contenedor-titulo div {\\n    display: inline-block;\\n    vertical-align: middle;\\n}\\n\\n.contenedor-contactos{\\n    position: absolute;\\n    width: 500px;\\n    left: 0;\\n    top: 0;\\n    bottom: 20px;\\n}\\n\\n.contenedor-principal {\\n    position: absolute;\\n    background-color: blueviolet;\\n    width: calc(100% - 500px);\\n    right: 0;\\n    top: 60px;\\n    bottom: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLGFBQWE7Q0FDaEI7O0FBRUQ7SUFDSSx5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLDBCQUEwQjtJQUMxQixhQUFhO0lBQ2IsU0FBUztJQUNULE9BQU87Q0FDVjs7QUFDRDtJQUNJLHNCQUFzQjtJQUN0Qix1QkFBdUI7Q0FDMUI7O0FBRUQ7SUFDSSxtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLFFBQVE7SUFDUixPQUFPO0lBQ1AsYUFBYTtDQUNoQjs7QUFFRDtJQUNJLG1CQUFtQjtJQUNuQiw2QkFBNkI7SUFDN0IsMEJBQTBCO0lBQzFCLFNBQVM7SUFDVCxVQUFVO0lBQ1YsVUFBVTtDQUNiIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVuZWRvci1hcHAge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250ZW5lZG9yLXRpdHVsb3tcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNlOWYwZjM7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA1MDBweCk7XG4gICAgaGVpZ2h0OiA2MHB4O1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogMDtcbn1cbi5jb250ZW5lZG9yLXRpdHVsbyBkaXYge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4uY29udGVuZWRvci1jb250YWN0b3N7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiA1MDBweDtcbiAgICBsZWZ0OiAwO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDIwcHg7XG59XG5cbi5jb250ZW5lZG9yLXByaW5jaXBhbCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWV2aW9sZXQ7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDUwMHB4KTtcbiAgICByaWdodDogMDtcbiAgICB0b3A6IDYwcHg7XG4gICAgYm90dG9tOiAwO1xufVxuIl19 */\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div class=\\\"contenedor-app\\\">\\n  <div class=\\\"contenedor-titulo\\\">\\n    <div>\\n      <img src=\\\"/assets/img/logo-web-chat.svg\\\" width=\\\"60\\\" height=\\\"60\\\" />\\n    </div>\\n    <div><h3 style=\\\"margin-left: 20px;\\\">VideoLLamadas cckall</h3></div>\\n  </div>\\n  <!--SIDEBAR LEFT contactos de app cckall -->\\n  <div class=\\\"contenedor-contactos\\\">\\n    <app-contactos\\n      *ngIf=\\\"conectado\\\"\\n      [contactos]=\\\"contactos\\\"\\n      (videollamadaContacto)=\\\"onVideollamadaContacto($event)\\\"\\n      (seleccionarContacto)=\\\"onSeleccionarContacto($event)\\\"\\n    >\\n    </app-contactos>\\n  </div>\\n  <!--CONTENIDO DINAMICO-->\\n  <div *ngIf=\\\"conectado\\\" class=\\\"contenedor-principal\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n  <!--PANEL DE INICIO DE SESION-->\\n  <app-inicio\\n    *ngIf=\\\"!conectado\\\"\\n    (iniciarSesion)=\\\"iniciarSesion($event)\\\"\\n  ></app-inicio>\\n  <!--NOTIFICACION PARA VIDEOLLAMADA ENTRANTE O SALIENTE-->\\n  <div class=\\\"contenedor-videocalling\\\">\\n    <app-video-calling\\n      [visible]=\\\"videoCallingVisible\\\"\\n      [saliente]=\\\"saliente\\\"\\n      [videollamada]=\\\"videollamada\\\"\\n      [nombreContacto]=\\\"nombreContacto\\\"\\n      [nombreContacto]=\\\"testing\\\"\\n      (contestarLLamada)=\\\"onContestarLLamada($event)\\\"\\n      (cancelarLLamada)=\\\"onCancelarLLamada($event)\\\"\\n    >\\n    </app-video-calling>\\n  </div>\\n</div>\\n\"","import { Component, OnDestroy } from '@angular/core';\nimport { ContactoAgente } from './domain/cckall.domain';\nimport { ContactoAgenteService } from './service/contacto-agente.service';\nimport { Router } from '@angular/router';\nimport { forkJoin, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { WebsocketService } from './service/websocket.service';\nimport { MensajeWebsocket, TipoMensaje, MensajeVideoLLamada } from './domain/websocket.domain';\nimport { SessionService } from './service/session.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnDestroy {\n\n  // --- propiedades para identificar usuario actual de app ---\n  idAgente = 18362;\n  conectado = false;\n  usuarioApp: ContactoAgente;\n  contactos: ContactoAgente[];\n  // --- subscripcion de mensajes ws ---\n  subscripcionMensajesWs: Subscription;\n  // --- propiedades para notificacion de llamada saliente o entrante ---\n  saliente = true;\n  videoCallingVisible = false;\n  nombreContacto: string;\n  videollamada: MensajeVideoLLamada;\n\n  constructor(\n    private router: Router,\n    private contactoAgenteService: ContactoAgenteService,\n    private websocketService: WebsocketService,\n    private sesionService: SessionService\n  ) {}\n\n  ngOnDestroy(): void {\n    this.subscripcionMensajesWs.unsubscribe(); // --- cerrar conexion ws ---\n  }\n\n  iniciarSesion(idAgente: number) {\n    console.log('Iniciar sesion con id ' + idAgente);\n    this.idAgente = idAgente;\n    // --- Multiples subscripciones ( funcion forkJoin() )a peticiones http y a observable de conexion establecida\n    //     con websocket ---\n    const sesionUsuario$ = forkJoin(\n        this.contactoAgenteService.buscarContactoAgenteApp(idAgente),\n        this.contactoAgenteService.buscarTodosContactoAgente(),\n        this.websocketService.getConnection()\n      ).pipe(\n        map(([agente, contactos, conexionWs]) => {\n            contactos = contactos.filter( c => c.id !== agente.id); // filtrar contactos que no sea el usario de la app\n            return { agente, contactos, conexionWs }; // ---operador map() cambia devolucion de array a un objeto.\n        })\n      );\n    const subscripcion$ = sesionUsuario$.subscribe(\n     ({ agente , contactos, conexionWs }) => {\n        console.log('Sesion usuario iniciada de ' + JSON.stringify(agente));\n        console.log(conexionWs);\n        this.usuarioApp = agente;\n        this.conectado = true;\n        this.contactos = contactos;\n        this.sesionService.guardarUsuarioApp(this.usuarioApp);\n        subscripcion$.unsubscribe(); // --- cerrar recursos usados ---\n        // --- susbscribirse a mensjaes de websocket ---\n        this.subscripcionMensajesWs = this.websocketService.getMensajes()\n        .subscribe(\n          (msg) => {\n            this.processMensajeWebsocket(msg);\n            console.log('se ha procesado el mensaje');\n          },\n          error => {\n            console.log('Error', error);\n          },\n          () => {\n            console.log('se ha cerrado la conexion de websocket');\n            // this.router.navigate(['']);\n          }\n        );\n        // --- enviar mensjae de registro de usuario ---\n        const msgRegistro = {\n            fecha: new Date(),\n            tipoMensaje: TipoMensaje.REGISTRO_USUARIO,\n            contenido: agente\n        };\n        this.websocketService.enviarMensajeWebsocket(msgRegistro);\n      },\n      error => {\n        console.log('Error', error);\n      }\n    );\n  }\n\n  onSeleccionarContacto(contacto: ContactoAgente): void {\n    console.log('contacto seleccionado: ' + JSON.stringify(contacto));\n  }\n\n  onVideollamadaContacto(contacto: ContactoAgente): void {\n    if (this.conectado) {\n      console.log('iniciar videollamada a contacto : ' + JSON.stringify(contacto));\n      this.saliente = true;\n      this.videoCallingVisible = true;\n      this.nombreContacto = contacto.id + ' - ' + contacto.nombre + ' ' + contacto.apellido;\n      const ms = new MensajeWebsocket<MensajeVideoLLamada>();\n      ms.tipoMensaje = TipoMensaje.INICIAR_VIDEO_LLAMADA;\n      const contenido = new MensajeVideoLLamada();\n      contenido.emisor = this.usuarioApp;\n      contenido.receptor = contacto;\n      ms.contenido = contenido;\n      console.log('enviando msg=' + JSON.stringify(ms));\n      this.videollamada = contenido;\n      this.websocketService.enviarMensajeWebsocket(ms);\n    } else {\n      console.log('Warning', 'No hay conexion establecida con servicio de videollamadas!!!');\n    }\n  }\n\n  onCancelarLLamada(videollamada: MensajeVideoLLamada): void {\n    /*console.log('Se ha cancelado llamada ' + videollamada.videollamadaId);\n    this.videoCallingVisible = false;\n    const contenido = {\n      tipoMensaje: TipoMensaje.SOLICITUD_CANCELAR_LLAMADA,\n      contenido:  {\n        videollamadaId: videollamada.videollamadaId,\n        notificarContactos: [\n          videollamada.emisor,\n          videollamada.receptor\n        ]\n      }\n    };\n    this.websocketService.enviarContenidoMensajeWebsocket(contenido);*/\n  }\n\n  onContestarLLamada(videollamada: MensajeVideoLLamada): void {\n    console.log('contestando llamada ' + videollamada.emisor.usuarioOperkall);\n    const req = new MensajeWebsocket();\n    req.contenido = {\n      videollamadaId : videollamada.videollamadaId,\n      emisor : videollamada.emisor,\n      receptor: videollamada.receptor\n    };\n    req.fecha = new Date();\n    req.tipoMensaje = TipoMensaje.CONTESTAR_LLAMADA;\n    this.websocketService.enviarMensajeWebsocket(req);\n  }\n\n  processMensajeWebsocket(mensaje: MensajeWebsocket<any>) {\n    console.log('Procesar mensaje ' + JSON.stringify(mensaje));\n    switch (mensaje.tipoMensaje) {\n      // --- token openvidu para integrarse a una videollamada ---\n      case TipoMensaje.TOKEN_VIDEOLLAMADA:\n        console.log('Contenido recibido: ' + JSON.stringify(mensaje.contenido));\n        this.sesionService.guardarToken(mensaje.contenido.token);\n        this.sesionService.guardarVideollamadaId(mensaje.contenido.videollamadaId);\n        this.videoCallingVisible = false;\n        this.router.navigate(['/video', this.idAgente]);\n      break;\n      // --- Un contacto solicita una videollamada ---\n      case TipoMensaje.SOLICITUD_VIDEO_LLAMADA:\n        this.videoCallingVisible = true;\n        this.saliente = false;\n        this.nombreContacto = mensaje.contenido.emisor.id + ' - ' +\n        mensaje.contenido.emisor.nombre + ' ' + mensaje.contenido.emisor.apellido;\n        this.videollamada = mensaje.contenido;\n      break;\n      // --- se recibe el videollamdaId de una videollamada iniciada por este usuario.\n      case TipoMensaje.VIDEOLLAMADA_ID_ASIGNADO:\n        this.videollamada.videollamadaId = mensaje.contenido;\n      break;\n      // --- se recibe notificacion que se cancelo una llamada ---\n      case TipoMensaje.CANCELAR_LLAMADA:\n        this.videoCallingVisible = false;\n        this.nombreContacto = undefined;\n        this.videollamada = undefined;\n      break;\n      // --- Timeout videollamada ---\n      case TipoMensaje.TIMEOUT_LLAMADA:\n        this.videoCallingVisible = false;\n        this.nombreContacto = undefined;\n        this.videollamada = undefined;\n        alert(mensaje.contenido.mensaje);\n      break;\n    }\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ErrorHandler } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { InicioComponent } from './component/inicio/inicio.component';\nimport { ContactosComponent } from './component/contactos/contactos.component';\nimport { ChatComponent } from './component/chat/chat.component';\nimport { VideoComponent } from './component/video/video.component';\nimport { AppRoutingModule } from './/app-routing.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\nimport { OpenviduSessionModule } from 'openvidu-angular';\nimport { GlobalErrorHandler } from './provider/error-handler';\nimport { UserVideoComponent } from './component/user-video/user-video.component';\nimport { VideoCallingComponent } from './component/video-calling/video-calling.component';\nimport { LayoutVideollamadaComponent } from './component/layout-videollamada/layout-videollamada.component';\nimport { HomeComponent } from './component/home/home.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    InicioComponent,\n    ContactosComponent,\n    ChatComponent,\n    VideoComponent,\n    UserVideoComponent,\n    VideoCallingComponent,\n    LayoutVideollamadaComponent,\n    HomeComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    FormsModule,\n    OpenviduSessionModule\n  ],\n  providers: [\n    {\n      provide: ErrorHandler,\n      useClass: GlobalErrorHandler\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9jaGF0L2NoYXQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<p>\\n  chat works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".componente-contactos{\\n    background-color: #e9f0f3;\\n    height: 100%;\\n    padding-top: 20px; \\n}\\n\\n.titulo-contactos{\\n    text-align: center;\\n    margin-top: 20px;\\n    margin-bottom: 20px;\\n}\\n\\n.item-contacto{\\n    margin: 10px;\\n    margin-top: 10px;\\n}\\n\\n.nombre-contacto{\\n    cursor: pointer;\\n    width: 240px;\\n    display: inline-block;\\n}\\n\\n.span-videollamada{\\n    color: green; \\n    cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L2NvbnRhY3Rvcy9jb250YWN0b3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDBCQUEwQjtJQUMxQixhQUFhO0lBQ2Isa0JBQWtCO0NBQ3JCOztBQUVEO0lBQ0ksbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixvQkFBb0I7Q0FDdkI7O0FBRUQ7SUFDSSxhQUFhO0lBQ2IsaUJBQWlCO0NBQ3BCOztBQUVEO0lBQ0ksZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixzQkFBc0I7Q0FDekI7O0FBRUQ7SUFDSSxhQUFhO0lBQ2IsZ0JBQWdCO0NBQ25CIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50L2NvbnRhY3Rvcy9jb250YWN0b3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb21wb25lbnRlLWNvbnRhY3Rvc3tcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTlmMGYzO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwYWRkaW5nLXRvcDogMjBweDsgXG59XG5cbi50aXR1bG8tY29udGFjdG9ze1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5pdGVtLWNvbnRhY3Rve1xuICAgIG1hcmdpbjogMTBweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4ubm9tYnJlLWNvbnRhY3Rve1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB3aWR0aDogMjQwcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uc3Bhbi12aWRlb2xsYW1hZGF7XG4gICAgY29sb3I6IGdyZWVuOyBcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\"","module.exports = \"<div class=\\\"componente-contactos\\\">\\n<h3 class=\\\"titulo-contactos\\\">Lista de contactos</h3>\\n <ul class=\\\"lista-contactos\\\">\\n  <li *ngFor=\\\"let contacto of contactos\\\" class=\\\"item-contacto\\\" >\\n    <span (click)=\\\"onSeleccionarContacto(contacto)\\\" \\n          class=\\\"nombre-contacto\\\" >{{contacto.id}} -  {{contacto.nombre}}  {{contacto.apellido}}</span>\\n\\n    <span (click)=\\\"onVideollamada(contacto)\\\" \\n    class=\\\"span-videollamada\\\" >videollamada</span>\\n    <div class=\\\"linea-separadora-hotizontal\\\"></div>\\n  </li>\\n</ul> \\n</div>\\n\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { ContactoAgente } from 'src/app/domain/cckall.domain';\n\n@Component({\n  selector: 'app-contactos',\n  templateUrl: './contactos.component.html',\n  styleUrls: ['./contactos.component.css']\n})\nexport class ContactosComponent implements OnInit {\n\n  @Input()\n  public contactos: ContactoAgente[];\n  @Output()\n  public seleccionarContacto = new EventEmitter<ContactoAgente>();\n  @Output()\n  public videollamadaContacto = new EventEmitter<ContactoAgente>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onSeleccionarContacto(contacto: ContactoAgente): void {\n    this.seleccionarContacto.emit(contacto);\n  }\n\n  onVideollamada(contacto: ContactoAgente): void {\n    this.videollamadaContacto.emit(contacto);\n  }\n}\n","module.exports = \".contenedor-home {\\n  background-color: #d7dee1;\\n  text-align: center;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n}\\n\\n.contenedor-home img {\\n  position: absolute;\\n  width: 30%;\\n  top: 35%;\\n  bottom: 35%;\\n  right: 30%;\\n  left: 35%;\\n  height: 30%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMEJBQTBCO0VBQzFCLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsT0FBTztFQUNQLFNBQVM7RUFDVCxRQUFRO0VBQ1IsVUFBVTtDQUNYOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxTQUFTO0VBQ1QsWUFBWTtFQUNaLFdBQVc7RUFDWCxVQUFVO0VBQ1YsWUFBWTtDQUNiIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50L2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbmVkb3ItaG9tZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkN2RlZTE7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBsZWZ0OiAwO1xuICBib3R0b206IDA7XG59XG5cbi5jb250ZW5lZG9yLWhvbWUgaW1nIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMzAlO1xuICB0b3A6IDM1JTtcbiAgYm90dG9tOiAzNSU7XG4gIHJpZ2h0OiAzMCU7XG4gIGxlZnQ6IDM1JTtcbiAgaGVpZ2h0OiAzMCU7XG59XG4iXX0= */\"","module.exports = \"<div class=\\\"contenedor-home\\\">\\n  <img src=\\\"/assets/img/grupo.svg\\\">\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".container-inicio {\\n    position: absolute;\\n    background-color: #e9f0f3;\\n    text-align: center;\\n    padding: 20px;\\n    top: 0;\\n    bottom: 0;\\n    right: 0;\\n    left: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L2luaWNpby9pbmljaW8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG1CQUFtQjtJQUNuQiwwQkFBMEI7SUFDMUIsbUJBQW1CO0lBQ25CLGNBQWM7SUFDZCxPQUFPO0lBQ1AsVUFBVTtJQUNWLFNBQVM7SUFDVCxRQUFRO0NBQ1giLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnQvaW5pY2lvL2luaWNpby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1pbmljaW8ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTlmMGYzO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgbGVmdDogMDtcbn0iXX0= */\"","module.exports = \"<div class=\\\"container-inicio\\\">\\n    <h2>id usuario cckall</h2>\\n    <input type=\\\"text\\\"  [(ngModel)]=\\\"idAgente\\\" />\\n    <button (click)=\\\"onIniciarSesion()\\\" >Iniciar video chat</button>\\n</div>\\n\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-inicio',\n  templateUrl: './inicio.component.html',\n  styleUrls: ['./inicio.component.css']\n})\nexport class InicioComponent implements OnInit {\n\n  idAgente: Number = 18362;\n  @Output()\n  iniciarSesion = new EventEmitter<Number>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onIniciarSesion(): void {\n    this.iniciarSesion.emit(this.idAgente);\n  }\n\n}\n","module.exports = \".contenedor-videollamada {\\n  position: absolute;\\n  background-color: #d7dee1;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.contenedor-titulo-videollamada {\\n  position: absolute;\\n  width: 100%;\\n  height: 60px;\\n  top: 0;\\n  text-align: center;\\n}\\n\\n.contenedor-herramientas-videollamada {\\n  position: absolute;\\n  width: 100%;\\n  height: 100px;\\n  bottom: 0px;\\n}\\n\\n.contenedor-herramientas-videollamada div {\\n    width: 30%;\\n    margin: 0 auto; \\n  }\\n\\n.contenedor-herramientas-videollamada div div{\\n  display: inline-block;\\n  width: 100px;\\n  margin: 20px 0 0 20px; \\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L2xheW91dC12aWRlb2xsYW1hZGEvbGF5b3V0LXZpZGVvbGxhbWFkYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLDBCQUEwQjtFQUMxQixZQUFZO0VBQ1osYUFBYTtDQUNkOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0VBQ2IsT0FBTztFQUNQLG1CQUFtQjtDQUNwQjs7QUFFRDtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osY0FBYztFQUNkLFlBQVk7Q0FDYjs7QUFFRDtJQUNJLFdBQVc7SUFDWCxlQUFlO0dBQ2hCOztBQUVIO0VBQ0Usc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixzQkFBc0I7Q0FDdkIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnQvbGF5b3V0LXZpZGVvbGxhbWFkYS9sYXlvdXQtdmlkZW9sbGFtYWRhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVuZWRvci12aWRlb2xsYW1hZGEge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkN2RlZTE7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5jb250ZW5lZG9yLXRpdHVsby12aWRlb2xsYW1hZGEge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDYwcHg7XG4gIHRvcDogMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY29udGVuZWRvci1oZXJyYW1pZW50YXMtdmlkZW9sbGFtYWRhIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgYm90dG9tOiAwcHg7XG59XG5cbi5jb250ZW5lZG9yLWhlcnJhbWllbnRhcy12aWRlb2xsYW1hZGEgZGl2IHtcbiAgICB3aWR0aDogMzAlO1xuICAgIG1hcmdpbjogMCBhdXRvOyBcbiAgfVxuXG4uY29udGVuZWRvci1oZXJyYW1pZW50YXMtdmlkZW9sbGFtYWRhIGRpdiBkaXZ7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDEwMHB4O1xuICBtYXJnaW46IDIwcHggMCAwIDIwcHg7IFxufVxuIl19 */\"","module.exports = \"<div class=\\\"contenedor-videollamada\\\">\\n  <div class=\\\"contenedor-titulo-videollamada background-transparente\\\">\\n    <p>{{ tituloVideollamada }}</p>\\n  </div>\\n  <div class=\\\"contenedor-herramientas-videollamada background-transparente\\\">\\n    <div>\\n      <div><button class=\\\"btn-eliminar\\\">Colgar</button></div>\\n      <div><button class=\\\"btn-primario\\\">Mensaje</button></div>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout-videollamada',\n  templateUrl: './layout-videollamada.component.html',\n  styleUrls: ['./layout-videollamada.component.css']\n})\nexport class LayoutVideollamadaComponent implements OnInit {\n\n  tituloVideollamada: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.tituloVideollamada = 'Benjamin Sepulveda';\n  }\n\n}\n","module.exports = \".contenedor-video-user {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.titulo-video {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  height: 6%;\\n  margin-left: 3%;\\n  margin-top: 1%;\\n  border-radius: 5px;\\n  width: 45%;\\n  padding: 1%;\\n  font-size: 80%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L3VzZXItdmlkZW8vdXNlci12aWRlby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0NBQ2Q7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIsT0FBTztFQUNQLFNBQVM7RUFDVCxRQUFRO0VBQ1IsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxZQUFZO0VBQ1osZUFBZTtDQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC91c2VyLXZpZGVvL3VzZXItdmlkZW8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250ZW5lZG9yLXZpZGVvLXVzZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi50aXR1bG8tdmlkZW8ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGxlZnQ6IDA7XG4gIGhlaWdodDogNiU7XG4gIG1hcmdpbi1sZWZ0OiAzJTtcbiAgbWFyZ2luLXRvcDogMSU7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgd2lkdGg6IDQ1JTtcbiAgcGFkZGluZzogMSU7XG4gIGZvbnQtc2l6ZTogODAlO1xufVxuIl19 */\"","import { Component, Input, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\nimport { StreamManager } from 'openvidu-browser';\n\n@Component({\n  selector: 'app-user-video',\n  template: `\n        <div class=\"contenedor-video-user\">\n            <video #videoElement [style.width.px]=\"anchoVideo\" [style.heigth.px]=\"altoVideo\"\n             poster=\"/assets/img/webrtc.png\" ></video>\n            <div class=\"titulo-video background-transparente\"><p>{{ nombreContacto }}</p></div>\n        </div>`,\n  styleUrls: ['./user-video.component.css']\n})\nexport class UserVideoComponent  implements AfterViewInit {\n\n    // --- propiedades de componente ---\n    @Input()\n    public nombreContacto: string;\n    @Input()\n    public anchoVideo: string;\n    @Input()\n    public altoVideo: string;\n    // --- VIDEO STREAMING ---\n    _streamManager: StreamManager;\n    @ViewChild('videoElement') elementRef: ElementRef;\n\n    ngAfterViewInit() {\n        this._streamManager.addVideoElement(this.elementRef.nativeElement);\n    }\n\n    /**\n     * Metodo actua como input de componente.\n     */\n    @Input()\n    set streamManager(streamManager: StreamManager) {\n        this._streamManager = streamManager;\n        if (!!this.elementRef) {\n            this._streamManager.addVideoElement(this.elementRef.nativeElement);\n        }\n    }\n\n}\n","module.exports = \".contenedor-video-calling{\\n    background-color: rgba(0, 0, 0, 0.6);\\n    text-align: center;\\n    position: fixed;\\n    top: 0;\\n    bottom: 0;\\n    right: 0;\\n    left: 0;\\n}\\n\\n.blink {\\n    -webkit-animation-duration: 2s;\\n            animation-duration: 2s;\\n    -webkit-animation-name: blink;\\n            animation-name: blink;\\n    -webkit-animation-iteration-count: infinite;\\n            animation-iteration-count: infinite;\\n    -webkit-animation-timing-function: steps(2, start);\\n            animation-timing-function: steps(2, start);\\n}\\n\\n@-webkit-keyframes blink {\\n    80% {\\n        visibility: hidden;\\n    }\\n}\\n\\n@keyframes blink {\\n    80% {\\n        visibility: hidden;\\n    }\\n}\\n\\n.videollamada-en-curso{\\n    color: #B04E29;\\n}\\n\\n.nombre-contacto-videollamada{\\n    margin-top: 200px;\\n    text-align: center;\\n    color: white;\\n    vertical-align: middle;\\n}\\n\\n.btn-videollamada {\\n    width: 400px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L3ZpZGVvLWNhbGxpbmcvdmlkZW8tY2FsbGluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kscUNBQXFDO0lBQ3JDLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsT0FBTztJQUNQLFVBQVU7SUFDVixTQUFTO0lBQ1QsUUFBUTtDQUNYOztBQUVEO0lBQ0ksK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2Qiw4QkFBc0I7WUFBdEIsc0JBQXNCO0lBQ3RCLDRDQUFvQztZQUFwQyxvQ0FBb0M7SUFDcEMsbURBQTJDO1lBQTNDLDJDQUEyQztDQUM5Qzs7QUFDRDtJQUNJO1FBQ0ksbUJBQW1CO0tBQ3RCO0NBQ0o7O0FBSkQ7SUFDSTtRQUNJLG1CQUFtQjtLQUN0QjtDQUNKOztBQUdEO0lBQ0ksZUFBZTtDQUNsQjs7QUFFRDtJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLHVCQUF1QjtDQUMxQjs7QUFFRDtJQUNJLGFBQWE7Q0FDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnQvdmlkZW8tY2FsbGluZy92aWRlby1jYWxsaW5nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVuZWRvci12aWRlby1jYWxsaW5ne1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgbGVmdDogMDtcbn1cblxuLmJsaW5rIHtcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDJzO1xuICAgIGFuaW1hdGlvbi1uYW1lOiBibGluaztcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBzdGVwcygyLCBzdGFydCk7XG59XG5Aa2V5ZnJhbWVzIGJsaW5rIHtcbiAgICA4MCUge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgfVxufVxuXG5cbi52aWRlb2xsYW1hZGEtZW4tY3Vyc297XG4gICAgY29sb3I6ICNCMDRFMjk7XG59XG5cbi5ub21icmUtY29udGFjdG8tdmlkZW9sbGFtYWRhe1xuICAgIG1hcmdpbi10b3A6IDIwMHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cblxuLmJ0bi12aWRlb2xsYW1hZGEge1xuICAgIHdpZHRoOiA0MDBweDtcbn0iXX0= */\"","module.exports = \"<div *ngIf=\\\"visible\\\" class=\\\"contenedor-video-calling\\\">\\n  <div class=\\\"nombre-contacto-videollamada\\\">\\n    <h3 class=\\\"videollamada-en-curso blink\\\">VideoLLamada en curso...</h3>\\n    <h2>{{ nombreContacto }}</h2>\\n  </div>\\n  <div *ngIf=\\\"!saliente\\\">\\n    <button (click)=\\\"onContestarLLamada(videollamada)\\\" class=\\\"btn-videollamada btn-primario\\\">\\n      Contestar llamada\\n    </button>\\n  </div>\\n  <div *ngIf=\\\"saliente\\\">\\n    <button (click)=\\\"onCancelarLLamada(videollamada)\\\" class=\\\"btn-videollamada btn-primario\\\" >Cancelar llamada</button>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, EventEmitter, Output, Input } from '@angular/core';\nimport { MensajeVideoLLamada, TipoMensaje, MensajeWebsocket } from 'src/app/domain/websocket.domain';\nimport { WebsocketService } from 'src/app/service/websocket.service';\n\n@Component({\n  selector: 'app-video-calling',\n  templateUrl: './video-calling.component.html',\n  styleUrls: ['./video-calling.component.css']\n})\nexport class VideoCallingComponent implements OnInit {\n\n  @Input()\n  visible: boolean;\n  @Input()\n  nombreContacto: string;\n  @Input()\n  videollamada: MensajeVideoLLamada;\n  @Input()\n  saliente: boolean;\n  @Output()\n  cancelarLLamada = new EventEmitter<MensajeVideoLLamada>();\n  @Output()\n  contestarLLamada = new EventEmitter<MensajeVideoLLamada>();\n\n  constructor(\n    private websocketService: WebsocketService\n  ) { }\n\n  ngOnInit() {\n    // this.visible = true;\n  }\n\n  onCancelarLLamada(mensajeVideollamada: MensajeVideoLLamada): void {\n    const contenido = {\n      tipoMensaje: TipoMensaje.SOLICITUD_CANCELAR_LLAMADA,\n      contenido:  {\n        videollamadaId: mensajeVideollamada.videollamadaId,\n        notificarContactos: [\n          mensajeVideollamada.emisor,\n          mensajeVideollamada.receptor\n        ]\n      }\n    };\n    this.websocketService.enviarContenidoMensajeWebsocket(contenido);\n    // this.cancelarLLamada.emit(mensajeVideollamada);\n  }\n\n  onContestarLLamada(mensajeVideollamada: MensajeVideoLLamada): void {\n    const req = new MensajeWebsocket();\n    req.contenido = {\n      videollamadaId : mensajeVideollamada.videollamadaId,\n      emisor : mensajeVideollamada.emisor,\n      receptor: mensajeVideollamada.receptor\n    };\n    req.fecha = new Date();\n    req.tipoMensaje = TipoMensaje.CONTESTAR_LLAMADA;\n    this.websocketService.enviarMensajeWebsocket(req);\n    // this.contestarLLamada.emit(mensajeVideollamada);\n  }\n}\n","module.exports = \".contenedor-videollamada {\\n  position: absolute;\\n  background-color: #d7dee1;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.contenedor-titulo-videollamada {\\n  position: absolute;\\n  width: 100%;\\n  height: 60px;\\n  top: 0;\\n  text-align: center;\\n}\\n\\n.contenedor-herramientas-videollamada {\\n  position: absolute;\\n  width: 100%;\\n  height: 100px;\\n  bottom: 0px;\\n}\\n\\n.contenedor-herramientas-videollamada div {\\n  width: 30%;\\n  margin: 0 auto;\\n}\\n\\n.contenedor-herramientas-videollamada div div {\\n  display: inline-block;\\n  width: 100px;\\n  margin: 20px 0 0 20px;\\n}\\n\\n.video-local {\\n  position: absolute;\\n  width: 320px;\\n  height: 240px;\\n  left: 640px;\\n}\\n\\n.video-remoto {\\n  position: absolute;\\n  left: 0;\\n  width: 960px;\\n  height: 720px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50L3ZpZGVvL3ZpZGVvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBbUI7RUFDbkIsMEJBQTBCO0VBQzFCLFlBQVk7RUFDWixhQUFhO0NBQ2Q7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLGFBQWE7RUFDYixPQUFPO0VBQ1AsbUJBQW1CO0NBQ3BCOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixjQUFjO0VBQ2QsWUFBWTtDQUNiOztBQUVEO0VBQ0UsV0FBVztFQUNYLGVBQWU7Q0FDaEI7O0FBRUQ7RUFDRSxzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLHNCQUFzQjtDQUN2Qjs7QUFFRDtFQUNFLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsY0FBYztFQUNkLFlBQVk7Q0FDYjs7QUFFRDtFQUNFLG1CQUFtQjtFQUNuQixRQUFRO0VBQ1IsYUFBYTtFQUNiLGNBQWM7Q0FDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC92aWRlby92aWRlby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbmVkb3ItdmlkZW9sbGFtYWRhIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDdkZWUxO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uY29udGVuZWRvci10aXR1bG8tdmlkZW9sbGFtYWRhIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA2MHB4O1xuICB0b3A6IDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmNvbnRlbmVkb3ItaGVycmFtaWVudGFzLXZpZGVvbGxhbWFkYSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJvdHRvbTogMHB4O1xufVxuXG4uY29udGVuZWRvci1oZXJyYW1pZW50YXMtdmlkZW9sbGFtYWRhIGRpdiB7XG4gIHdpZHRoOiAzMCU7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuXG4uY29udGVuZWRvci1oZXJyYW1pZW50YXMtdmlkZW9sbGFtYWRhIGRpdiBkaXYge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAxMDBweDtcbiAgbWFyZ2luOiAyMHB4IDAgMCAyMHB4O1xufVxuXG4udmlkZW8tbG9jYWwge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAzMjBweDtcbiAgaGVpZ2h0OiAyNDBweDtcbiAgbGVmdDogNjQwcHg7XG59XG5cbi52aWRlby1yZW1vdG8ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiA5NjBweDtcbiAgaGVpZ2h0OiA3MjBweDtcbn1cbiJdfQ== */\"","module.exports = \"<div class=\\\"contenedor-videollamada\\\">\\n  \\n\\n  <!-- video element remotos -->\\n  <div *ngFor=\\\"let sub of subscribers\\\" class=\\\"video-remoto\\\">\\n    <app-user-video\\n      nombreContacto=\\\"Usuario remoto\\\"\\n      anchoVideo=\\\"960\\\"\\n      altoVideo=\\\"720\\\"\\n      [streamManager]=\\\"sub\\\"\\n    ></app-user-video>\\n    <div class=\\\"contenedor-herramientas-videollamada background-transparente\\\">\\n      <div>\\n        <div>\\n          <button (click)=\\\"disconnectVideollamadaSession()\\\" class=\\\"btn-eliminar\\\">\\n            Colgar\\n          </button>\\n        </div>\\n        <div><button class=\\\"btn-primario\\\">Mensaje</button></div>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"subscribers.lenght == 0\\\" class=\\\"video-local\\\">\\n    <img src=\\\"/assets/img/webrtc.png\\\" width=\\\"960\\\" height=\\\"720\\\" >\\n  </div>\\n  <!-- video element local-->\\n  <div *ngIf=\\\"publisher\\\" class=\\\"video-local\\\">\\n    <app-user-video\\n      nombreContacto=\\\"Usuario local\\\"\\n      anchoVideo=\\\"320\\\"\\n      altoVideo=\\\"240\\\"\\n      [streamManager]=\\\"publisher\\\"\\n    ></app-user-video>\\n  </div>\\n  <div *ngIf=\\\"!publisher\\\" class=\\\"video-local\\\">\\n    <img src=\\\"/assets/img/webrtc.png\\\" width=\\\"320\\\" height=\\\"240\\\" >\\n  </div>\\n</div>\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\n import { VideoLlamadaService } from 'src/app/service/video-llamada.service';\nimport { Subscription } from 'rxjs';\nimport { StreamEvent, StreamManager, Subscriber, Publisher } from 'openvidu-browser';\nimport { WebsocketService } from 'src/app/service/websocket.service';\nimport { TipoMensaje } from 'src/app/domain/websocket.domain';\nimport { SessionService } from 'src/app/service/session.service';\n\n@Component({\n  selector: 'app-video',\n  templateUrl: './video.component.html',\n  styleUrls: ['./video.component.css']\n})\nexport class VideoComponent implements OnInit, OnDestroy {\n\n  // --- Objetos openvidu ---\n  publisher: StreamManager; // Local\n  subscribers: StreamManager[] = []; // Remotes\n  mainStreamManager: StreamManager; // updated by click event in UserVideoComponent children\n  // --- Subscripciones a servicios de videollamada ---\n  subscripcionConexion: Subscription;\n  subscripcionStreamCreated: Subscription;\n  subscripcionStreamDestroyed: Subscription;\n  // --- Propiedades de Componente ---\n  tituloSesion = 'Ejemplo video';\n  sesionEstablecida = false;\n\n  constructor(\n    private videollamadaService: VideoLlamadaService,\n    private websocketService: WebsocketService,\n    private sesionService: SessionService\n  ) {}\n\n  ngOnInit() {\n    console.log('componente video INICIADO!!!');\n    // ---Propiedades para crear conexion openvidu ---\n    const token = this.sesionService.obtenerSesionVideoLLamada().token;\n    const usuario = this.sesionService.obtenerUsuarioApp().usuarioOperkall;\n    console.log('usuario:' + usuario + ', token:' + token);\n    // --- Crear las propiedades del publicador ---\n    const propPublisher = {\n      audioSource: undefined, // The source of audio. If undefined default microphone\n      videoSource: undefined, // The source of video. If undefined default webcam\n      publishAudio: true,     // Whether you want to start publishing with your audio unmuted or not\n      publishVideo: true,     // Whether you want to start publishing with your video enabled or not\n      resolution: '640x480',  // The resolution of your video\n      frameRate: 30,          // The frame rate of your video\n      insertMode: 'APPEND',   // How the video is inserted in the target element 'video-container'\n      mirror: false           // Whether to mirror your local video or not\n    };\n    this.subscripcionConexion = this.videollamadaService\n    .connectVideollamadas(token, usuario, propPublisher)\n    .subscribe( (publisher: Publisher) => {\n      this.publisher = publisher;\n      this.sesionEstablecida = true;\n      console.log('Conexion servidor videollamadas establecida ok!!!');\n    });\n    this.subscripcionStreamCreated = this.videollamadaService.getStreamCreated()\n    .subscribe(\n      (event: StreamEvent) => {\n        console.log('stream creado!!!');\n        // Subscribe to the Stream to receive it. Second parameter is undefined\n        // so OpenVidu doesn't create an HTML video by its own\n        // this.session.subscribe(event.stream, undefined);\n        const subscriber = this.videollamadaService.subscribeSession(event.stream, undefined);\n        this.subscribers.push(subscriber);\n      }\n    );\n    this.subscripcionStreamDestroyed = this.videollamadaService.getStreamDestroyed()\n    .subscribe(\n      (event: StreamEvent) => {\n        console.log('stream destruido!!!');\n        this.videollamadaService.deleteSubscriber(event.stream.streamManager);\n      }\n    );\n\n  }\n\n  ngOnDestroy(): void {\n    console.log('se unsubscriben algunos servicios');\n   this.subscripcionConexion.unsubscribe();\n   this.subscripcionStreamCreated.unsubscribe();\n   this.subscripcionStreamDestroyed.unsubscribe();\n  }\n\n  updateMainStreamManager(streamManager: StreamManager) {\n    this.mainStreamManager = streamManager;\n  }\n\n  disconnectVideollamadaSession(): void {\n    this.sesionEstablecida = false;\n    console.log('Desconectando sesion openvidu videollamada');\n    this.videollamadaService.disconnectVideollamadaSession();\n    const videollamadaId = this.sesionService.obtenerSesionVideoLLamada().videollamadaId;\n    console.log('Desconectando sesion videollamada [id=' + videollamadaId + '');\n    const contenido = {\n      tipoMensaje: TipoMensaje.TERMINAR_VIDEOLLAMADA,\n      contenido:  {\n        mensaje: videollamadaId\n      }\n    };\n    this.websocketService.enviarContenidoMensajeWebsocket(contenido);\n  }\n}\n","export class ContactoAgente {\n    id: Number;\n    nombre: string;\n    apellido: string;\n    usuarioOperkall: string;\n    enLinea: boolean;\n}\n\nexport class SesionVideoLLamada {\n    videollamadaId: string;\n    token: string;\n    emisor: ContactoAgente;\n    receptor: ContactoAgente;\n}\n","import { ContactoAgente } from './cckall.domain';\n\n/**\n * Mensaje estandar que se acepata en el servicio de websocket,\n * el contenido cambia segun las necesidades.\n */\nexport class MensajeWebsocket<T> {\n    fecha: Date;\n    tipoMensaje: TipoMensaje;\n    contenido: T;\n}\n\n/**\n * Tipo de mensajes que acepta y recibe el servidor.\n */\nexport enum TipoMensaje {\n    INICIAR_VIDEO_LLAMADA = 'INICIAR_VIDEO_LLAMADA',\n    SOLICITUD_VIDEO_LLAMADA = 'SOLICITUD_VIDEO_LLAMADA',\n    VIDEOLLAMADA_ID_ASIGNADO = 'VIDEOLLAMADA_ID_ASIGNADO',\n    REGISTRO_USUARIO = 'REGISTRO_USUARIO',\n    SOLICITUD_CANCELAR_LLAMADA = 'SOLICITUD_CANCELAR_LLAMADA',\n    CANCELAR_LLAMADA = 'CANCELAR_LLAMADA',\n    RECHAZAR_LLAMADA = 'RECHAZAR_LLAMADA',\n    TIMEOUT_LLAMADA = 'TIMEOUT_LLAMADA',\n    CONTESTAR_LLAMADA = 'CONTESTAR_LLAMADA',\n    ESTABLECER_LLAMADA = 'ESTABLECER_LLAMADA',\n    TERMINAR_VIDEOLLAMADA = 'TERMINAR_VIDEOLLAMADA',\n    TOKEN_VIDEOLLAMADA = 'TOKEN_VIDEOLLAMADA',\n    ERROR_SERVIDOR = 'ERROR_SERVIDOR',\n    ERROR_VIDEOLLAMADA = 'ERROR_VIDEOLLAMADA'\n}\n\n/**\n * Representa el tipo de MensajeWebsocket y su contenido.\n */\nexport interface ContenidoMensaje {\n    tipoMensaje: TipoMensaje;\n    contenido: any;\n}\n\n// -------- MENSAJES ASOCIADOS A CONTENIDO DE APP -------\n/**\n * Mensaje enviado al crear una videollamada.\n */\nexport class MensajeVideoLLamada {\n    videollamadaId: string;\n    emisor: ContactoAgente;\n    receptor: ContactoAgente;\n}\n\n/**\n * Mensaje recibido al crear una videollamada.\n */\nexport class MensajeSesionVideoLLamada {\n    token: string;\n    videollamadaId: string;\n}\n\n","import { ErrorHandler, Injectable} from '@angular/core';\n\n@Injectable()\nexport class GlobalErrorHandler implements ErrorHandler {\n\n  constructor() { }\n\n  handleError(error) {\n    console.log('Error handler global!!!');\n     console.log('Error' , error);\n     throw error;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { SessionService } from '../session.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationGuard implements CanActivate {\n\n  constructor(\n    private router: Router,\n    private sesionService: SessionService\n  ) {}\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n   Observable<boolean> | Promise<boolean> | boolean {\n     const user = this.sesionService.obtenerUsuarioApp();\n     if (user) {\n      return true;\n     }\n     console.log('redireccionando a inicio');\n     this.router.navigate(['']);\n     return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ContactoAgente } from '../domain/cckall.domain';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { catchError, map, tap,  } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContactoAgenteService {\n\n  private endpoint = 'https://localhost:5000';\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  buscarContactoAgenteApp(id: Number): Observable<ContactoAgente> {\n    return this.http.get<ContactoAgente>(this.endpoint + '/login/cckall/' + id);\n  }\n\n  buscarTodosContactoAgente(): Observable<ContactoAgente[]> {\n    return this.http.get<ContactoAgente[]>(this.endpoint + '/agente');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ContactoAgente, SesionVideoLLamada } from '../domain/cckall.domain';\nimport { StorageService } from './storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SessionService {\n\n  private sesion: SesionVideoLLamada = new SesionVideoLLamada();\n  private usuarioApp: ContactoAgente;\n\n  constructor(\n    private storageService: StorageService\n  ) { }\n\n  guardarUsuarioApp(contactoAgente: ContactoAgente): void {\n    this.usuarioApp = contactoAgente;\n    this.storageService.guardarValor('usuario', this.usuarioApp);\n  }\n\n  guardarVideollamadaId(videollamadaId: string): void {\n    this.sesion.videollamadaId = videollamadaId;\n    this.storageService.guardarValor('videollamadaId', videollamadaId);\n  }\n\n  guardarToken(token: string): void {\n    this.sesion.token = token;\n    this.storageService.guardarValor('token', token);\n  }\n\n  guardarEmisor(contacto: ContactoAgente): void {\n    this.sesion.emisor = contacto;\n  }\n\n  guardarReceptor(contacto: ContactoAgente): void {\n    this.sesion.receptor = contacto;\n  }\n\n  obtenerSesionVideoLLamada(): SesionVideoLLamada {\n    return this.sesion;\n  }\n\n  obtenerUsuarioApp(): ContactoAgente {\n    return this.usuarioApp;\n  }\n\n  limpiarSesionVideoLLamada(): void {\n    this.sesion = new SesionVideoLLamada();\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  private localStorage;\n\n  constructor() {\n    this.localStorage = localStorage;\n   }\n\n   guardarValor(key: string, value: any) {\n    if (key === null ) {\n      throw new Error('key a guardar esta en nulo!!!');\n    }\n    if (value === null ) {\n      throw new Error('valor a guardar esta en nulo!!!');\n    }\n    this.localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  obtenerValor(key: string) {\n    const valor = this.localStorage.getItem(key);\n    if (valor !== null) {\n      return JSON.parse(valor);\n    } else {\n      return null;\n    }\n  }\n\n  eliminarValor(key: string) {\n    this.localStorage.removeItem(key);\n  }\n\n}\n","import { Injectable, OnInit, HostListener } from '@angular/core';\nimport { OpenVidu, Session, StreamManager, StreamEvent, Subscriber, Publisher, Stream, PublisherProperties } from 'openvidu-browser';\nimport { ContactoAgente } from 'src/app/domain/cckall.domain';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VideoLlamadaService implements OnInit {\n\n   // --- objetos de sesion de usuario ---\n    usuarioApp: ContactoAgente;\n   // --- objetos openvidu ---\n    OV: OpenVidu;\n    session: Session;\n    publisher: StreamManager; // Local\n    subscribers: StreamManager[] = []; // Remotes\n    // Main video of the page, will be 'publisher' or one of the 'subscribers',\n    // updated by click event in UserVideoComponent children\n    mainStreamManager: StreamManager;\n\n    // --- OBSERVABLES PARA SERVICIO ---\n    subjectConnect$: Subject<Publisher>;\n    subjectStreamCreated$: Subject<StreamEvent>;\n    subjectStreamDestroyed$: Subject<StreamEvent>;\n\n   constructor(\n   ) { }\n\n   ngOnInit() {\n  }\n\n  connectVideollamadas(token: string, username: string, properties: PublisherProperties): Observable<any> {\n    this.OV = new OpenVidu();\n    this.session = this.OV.initSession();\n    // --- On every new Stream received... ---\n    this.subjectStreamCreated$ = new Subject();\n    this.subjectStreamDestroyed$ = new Subject();\n    this.subjectConnect$ = new Subject();\n    this.session.on('streamCreated', (eventStreamCreated: StreamEvent) => {\n      this.subjectStreamCreated$.next(eventStreamCreated);\n    });\n    // --- On every Stream destroyed... ---\n    this.session.on('streamDestroyed', (eventStreamDestroyed: StreamEvent) => {\n      this.subjectStreamDestroyed$.next(eventStreamDestroyed);\n    });\n    // --- CONEXION SERVICIO VIDEOLLAMADA OPENVIDU ---\n    this.session.connect(token, { clientData: username })\n      .then(() => {\n        const publisher: Publisher = this.OV.initPublisher(undefined, properties);\n        this.session.publish(publisher);\n        this.subjectConnect$.next(publisher);\n      }).catch(error => {\n        this.subjectConnect$.error(error);\n      });\n      return this.subjectConnect$.asObservable();\n  }\n\n  subscribeSession(stream: Stream, targetElement: string): Subscriber {\n    return this.session.subscribe(stream, targetElement);\n  }\n\n  getStreamCreated() {\n    return this.subjectStreamCreated$.asObservable();\n  }\n\n  getStreamDestroyed() {\n    return this.subjectStreamDestroyed$.asObservable();\n  }\n\n  disconnectVideollamadaSession() {\n    // --- Leave the session by calling 'disconnect' method over the Session object ---\n    if (this.session) {\n      this.session.disconnect();\n    }\n    this.subjectStreamCreated$.complete();\n    this.subjectStreamDestroyed$.complete();\n    this.subjectConnect$.complete();\n    // --- Empty all properties...---\n    this.subscribers = [];\n    delete this.publisher;\n    delete this.session;\n    delete this.OV;\n}\n\n  deleteSubscriber(streamManager: StreamManager): void {\n    const index = this.subscribers.indexOf(streamManager, 0);\n    if (index > -1) {\n      this.subscribers.splice(index, 1);\n    }\n  }\n\n  updateMainStreamManager(streamManager: StreamManager) {\n    this.mainStreamManager = streamManager;\n  }\n\n  @HostListener('windows:beforeunload', ['$event'])\n  eventCloseWindows(event: BeforeUnloadEvent) {\n    this.disconnectVideollamadaSession();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject, Observer } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { MensajeWebsocket, TipoMensaje, ContenidoMensaje } from '../domain/websocket.domain';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebsocketService {\n\n  private subject$: Subject<MessageEvent>;\n  subjectMensajes$: Subject<MensajeWebsocket<any>>;\n  subjectConexion$: Subject<string>;\n\n  constructor() {\n    console.log('inicio servicio websocket');\n   }\n\n\n  private connect(): Subject<MessageEvent> {\n    if (!this.subject$) {\n      this.subjectConexion$ = new Subject();\n      this.subject$ = this.create();\n      console.log('WebsocketService conectado exitosamente!!!');\n    }\n    return this.subject$;\n  }\n\n  private create(): Subject<MessageEvent> {\n    const url = 'wss://localhost:5000/chat';\n    const ws = new WebSocket(url);\n    ws.onopen = (data) => {\n       console.log('Conexion websocket establecida...');\n       this.subjectConexion$.next('Conexion exitosa a ' + url);\n       this.subjectConexion$.complete();\n    };\n    const observable = Observable.create(\n    (obs: Observer<MessageEvent>) => {\n        ws.onmessage = obs.next.bind(obs);\n        ws.onerror = obs.error.bind(obs);\n        ws.onclose = obs.complete.bind(obs);\n        return ws.close.bind(ws);\n    });\n    const observer = {\n        next: (data: Object) => {\n            if (ws.readyState === WebSocket.OPEN) {\n                ws.send(JSON.stringify(data));\n            } else {\n              console.log('no se entrego msg=' + JSON.stringify(data) + ' conexion aun no esta abierta');\n            }\n        }\n    };\n    return Subject.create(observer, observable);\n  }\n\n  getConnection(): Observable<string>  {\n    this.subjectMensajes$ = <Subject<MensajeWebsocket<any>>> this.connect()\n    .pipe(\n      map((response: MessageEvent): MensajeWebsocket<any> => {\n        const data = JSON.parse(response.data);\n        return data;\n    })\n    );\n    return this.subjectConexion$.asObservable();\n  }\n\n  getMensajes(): Observable<MensajeWebsocket<any>> {\n    return this.subjectMensajes$.asObservable();\n  }\n\n  enviarMensajeWebsocket(msg: MensajeWebsocket<any>): void {\n    this.subjectMensajes$.next(msg);\n  }\n\n  enviarMensajeWebsocket2(tipoMensaje: TipoMensaje, contenido: any): void {\n    const req = new MensajeWebsocket();\n    req.contenido = contenido;\n    req.fecha = new Date();\n    req.tipoMensaje = tipoMensaje;\n    this.subjectMensajes$.next(req);\n  }\n\n  enviarContenidoMensajeWebsocket(contenido: ContenidoMensaje): void {\n    const req = new MensajeWebsocket();\n    req.fecha = new Date();\n    req.contenido = contenido.contenido;\n    req.tipoMensaje = contenido.tipoMensaje;\n    this.subjectMensajes$.next(req);\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}